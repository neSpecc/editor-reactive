parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"moLI":[function(require,module,exports) {
var e=["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussainBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"];module.exports={CASE_SENSITIVE_TAG_NAMES:e};
},{}],"HsRm":[function(require,module,exports) {
for(var e,t=require("./constants").CASE_SENSITIVE_TAG_NAMES,n={},r=0,a=t.length;r<a;r++)e=t[r],n[e.toLowerCase()]=e;function o(e){return n[e]}function u(e){for(var t,n={},r=0,a=e.length;r<a;r++)n[(t=e[r]).name]=t.value;return n}function s(e){var t=o(e=e.toLowerCase());return t||e}function i(e,t,n){t=t||null;for(var r,a,o,l=[],d=0,c=e.length;d<c;d++){switch(r=e[d],o={next:null,prev:l[d-1]||null,parent:t},(a=l[d-1])&&(a.next=o),"#"!==r.nodeName[0]&&(o.name=s(r.nodeName),o.attribs={},r.attributes&&r.attributes.length&&(o.attribs=u(r.attributes))),r.nodeType){case 1:"script"===o.name||"style"===o.name?o.type=o.name:o.type="tag",o.children=i(r.childNodes,o);break;case 3:o.type="text",o.data=r.nodeValue;break;case 8:o.type="comment",o.data=r.nodeValue}l.push(o)}return n&&(l.unshift({name:n.substring(0,n.indexOf(" ")).toLowerCase(),data:n,type:"directive",next:l[0]?l[0]:null,prev:null,parent:t}),l[1]&&(l[1].prev=l[0])),l}function l(e){return e?document.documentMode===e:/(MSIE |Trident\/|Edge\/)/.test(navigator.userAgent)}module.exports={formatAttributes:u,formatDOM:i,isIE:l};
},{"./constants":"moLI"}],"AZCa":[function(require,module,exports) {
var e=require("./utilities"),t="html",r="head",n="body",o=/<([a-zA-Z]+[0-9]?)/,a=/<head.*>/i,m=/<body.*>/i,i=/<(area|base|br|col|embed|hr|img|input|keygen|link|menuitem|meta|param|source|track|wbr)(.*?)\/?>/gi,s=e.isIE(9),c=s||e.isIE(),u=function(){throw new Error("This browser does not support `document.implementation.createHTMLDocument`")},d=function(){throw new Error("This browser does not support `DOMParser.prototype.parseFromString`")};if("function"==typeof window.DOMParser){var l=new window.DOMParser,p=s?"text/xml":"text/html";u=d=function(e,t){return t&&(e="<"+t+">"+e+"</"+t+">"),s&&(e=e.replace(i,"<$1$2$3/>")),l.parseFromString(e,p)}}if(document.implementation){var h=document.implementation.createHTMLDocument(c?"html-dom-parser":void 0);u=function(e,t){if(t)return h.documentElement.getElementsByTagName(t)[0].innerHTML=e,h;try{return h.documentElement.innerHTML=e,h}catch(r){if(d)return d(e)}}}var g,w=document.createElement("template");function f(e){var i,s,c,l,p=e.match(o);switch(p&&p[1]&&(i=p[1].toLowerCase()),i){case t:return s=d(e),a.test(e)||(c=s.getElementsByTagName(r)[0])&&c.parentNode.removeChild(c),m.test(e)||(c=s.getElementsByTagName(n)[0])&&c.parentNode.removeChild(c),s.getElementsByTagName(t);case r:case n:return l=u(e).getElementsByTagName(i),m.test(e)&&a.test(e)?l[0].parentNode.childNodes:l;default:return g?g(e):u(e,n).getElementsByTagName(n)[0].childNodes}}w.content&&(g=function(e){return w.innerHTML=e,w.content.childNodes}),module.exports=f;
},{"./utilities":"HsRm"}],"vUdm":[function(require,module,exports) {
var r=require("./domparser"),e=require("./utilities"),t=e.formatDOM,i=e.isIE(9),u=/<(![a-zA-Z\s]+)>/;function a(e){if("string"!=typeof e)throw new TypeError("First argument must be a string");if(!e)return[];var a,n=e.match(u);return n&&n[1]&&(a=n[1],i&&(e=e.replace(n[0],""))),t(r(e),null,a)}module.exports=a;
},{"./domparser":"AZCa","./utilities":"HsRm"}],"kbLt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.urlAlphabet=void 0;let e="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW";exports.urlAlphabet=e;
},{}],"ya15":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"urlAlphabet",{enumerable:!0,get:function(){return r.urlAlphabet}}),exports.random=exports.customRandom=exports.customAlphabet=exports.nanoid=void 0;var r=require("./url-alphabet/index.js");var t=function(r){return crypto.getRandomValues(new Uint8Array(r))};exports.random=t;var e=function(r,t,e){var n=(2<<Math.log(r.length-1)/Math.LN2)-1,o=-~(1.6*n*t/r.length);return function(){for(var a="";;)for(var u=e(o),p=o;p--;)if((a+=r[u[p]&n]||"").length===t)return a}};exports.customRandom=e;var n=function(r,n){return e(r,n,t)};exports.customAlphabet=n;var o=function(){for(var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21,t="",e=crypto.getRandomValues(new Uint8Array(r));r--;){var n=63&e[r];t+=n<36?n.toString(36):n<62?(n-26).toString(36).toUpperCase():n<63?"_":"-"}return t};exports.nanoid=o;
},{"./url-alphabet/index.js":"kbLt"}],"fRxd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=n(require("html-dom-parser")),t=require("nanoid");function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return c(e)||u(e,t)||i(e,t)||r()}function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function u(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],a=!0,r=!1,i=void 0;try{for(var o,u=e[Symbol.iterator]();!(a=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);a=!0);}catch(c){r=!0,i=c}finally{try{a||null==u.return||u.return()}finally{if(r)throw i}}return n}}function c(e){if(Array.isArray(e))return e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function d(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}var f=function(){function n(t,a,r){s(this,n),this.mustacheBindings=[],this.elementBindings=[],this.dataProxy=new Proxy(a,this.data);var i=(0,e.default)(t)[0];this.el=this.create(i),this.onChange=r}return d(n,[{key:"create",value:function(e){switch(e.type){case"tag":case"script":return this.createElementNode(e);case"text":return this.createTextNode(e.data)}var t=document.createElement("div");return t.classList.add("unknown"),t.textContent="Unknown node type: "+e.type,t}},{key:"createElementNode",value:function(e){var t=this,n=document.createElement(e.name),r=!1;Object.entries(e.attribs).forEach(function(e){var t=a(e,2),r=t[0],i=t[1];n.setAttribute(r,i)});var i=e.attribs.bind,o=void 0!==e.attribs.contenteditable||"input"===e.name;if(i){var u=e.attribs.bind;n.dataset.var=u,r=!0,this.elementBindings.push({variable:u,node:n}),"input"===e.name?n.value=this.dataProxy[u]:n.innerHTML=this.dataProxy[u],o&&n.addEventListener("input",function(){t.dataProxy[u]="input"===e.name?n.value:n.innerHTML})}return n.dataset.tag=e.name,r&&e.children.length&&console.warn('Element with the "bind" attribute should not contain anything',n),r||e.children.forEach(function(e){n.appendChild(t.create(e))}),n}},{key:"createTextNode",value:function(e,n){var a,r=this,i=e,o=this.findVariables(e),u=!n;return u?(n=(0,t.nanoid)(5),(a=document.createElement("span")).dataset.id=n):a=document.querySelector('[data-id="'.concat(n,'"]')),o.length?(o.forEach(function(t){e=r.substituteVariable(e,t),u&&r.mustacheBindings.push({variable:t,node:a,text:i,id:n})}),a.innerHTML=e):a=document.createTextNode(e),a}},{key:"findVariables",value:function(e){for(var t=/{{([ a-zA-Z0-9-]+)}}/g,n=t.exec(e),a=[];null!=n;)a.push(n[1].trim()),n=t.exec(e);return a}},{key:"substituteVariable",value:function(e,t){return this.dataProxy[t]?e.replace(new RegExp("{{(\\s+)?"+t+"(\\s+)?}}"),'<span data-var="'.concat(t,'">\n                    ').concat(this.dataProxy[t],"\n                </span>")):e}},{key:"getEl",value:function(){return this.el}},{key:"changeDataValue",value:function(e,t){this.dataProxy[e]=t}},{key:"updateNodeWithData",value:function(e,t){var n=this;this.mustacheBindings.forEach(function(t){var a=t.variable,r=(t.node,t.text),i=t.id;a===e&&n.createTextNode(r,i)}),this.elementBindings.forEach(function(n){var a=n.variable,r=n.node;n.id;a===e&&document.activeElement!==r&&("input"===r.tagName.toLowerCase()?r.value=t:r.innerHTML=t)}),this.onChange()}},{key:"getData",value:function(){return this.dataProxy}},{key:"data",get:function(){var e=this;return{set:function(t,n,a,r){return Reflect.set.apply(Reflect,arguments),e.updateNodeWithData(n,a),!0},get:function(e,t,n){return Reflect.get.apply(Reflect,arguments)}}}}]),n}();exports.default=f;
},{"html-dom-parser":"vUdm","nanoid":"ya15"}],"fqJo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./dom"));function e(t){return t&&t.__esModule?t:{default:t}}function r(t,e){return u(t)||i(t,e)||o(t,e)||n()}function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(t,e){if(t){if("string"==typeof t)return a(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(t,e):void 0}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function i(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,o=!1,a=void 0;try{for(var i,u=t[Symbol.iterator]();!(n=(i=u.next()).done)&&(r.push(i.value),!e||r.length!==e);n=!0);}catch(l){o=!0,a=l}finally{try{n||null==u.return||u.return()}finally{if(o)throw a}}return r}}function u(t){if(Array.isArray(t))return t}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function f(t,e,r){return e&&c(t.prototype,e),r&&c(t,r),t}var s=function(){function e(t){var r=t.tools,n=t.holder;l(this,e),this.toolsConfig=r,this.holder=n,this.tools={},this.render(),this.onChange()}return f(e,[{key:"render",value:function(){var t=this;Object.entries(this.toolsConfig).forEach(function(e){var n=r(e,2),o=n[0],a=new(0,n[1]),i=t.parseTemplate(a.template.trim(),a.data);t.holder.appendChild(i.getEl()),t.tools[o]={tool:a,react:i}})}},{key:"parseTemplate",value:function(e,n){var o=this,a=new t.default(e,n,function(){o.onChange()});return window.change=function(t){Object.entries(t).forEach(function(t){var e=r(t,2),n=e[0],o=e[1];a.changeDataValue(n,o)})},a}},{key:"onChange",value:function(){document.querySelector(".output pre").innerHTML=JSON.stringify({blocks:Object.entries(this.tools).map(function(t){var e=r(t,2),n=e[0],o=e[1];o.tool;return{type:n,data:o.react.getData()}})},void 0,"   ")}}]),e}();exports.default=s;
},{"./dom":"fRxd"}],"GOVZ":[function(require,module,exports) {
"use strict";function n(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function e(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function t(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var i=function(){function e(){n(this,e)}return t(e,[{key:"template",get:function(){return'\n            <div>\n                <p>My name is {{ name }} {{ family }}. {{ name }} is a good man.</p>\n                \n                <p>Enter caption (div):</p>\n                <div contenteditable bind="caption"></div>\n                \n                <p>Enter caption (input):</p>\n                <input bind="caption"/>\n                \n                <div>And the caption is: {{ caption }}</div> \n            </div>\n        '}},{key:"data",get:function(){return{name:"Jerom",family:"Kawasaki",caption:"Apple Developers Program"}}}]),e}();exports.default=i;
},{}],"Focm":[function(require,module,exports) {
"use strict";var e=r(require("./editor")),t=r(require("./plugin"));function r(e){return e&&e.__esModule?e:{default:e}}var u=new e.default({holder:document.getElementById("editor"),tools:{myTool:t.default}});
},{"./editor":"fqJo","./plugin":"GOVZ"}]},{},["Focm"], null)
//# sourceMappingURL=src.cc1db2d3.js.map